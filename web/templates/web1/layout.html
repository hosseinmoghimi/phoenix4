{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>
        {{app.title.value}} 
        {% if page.title %}
        | {{page.title}}
        {% endif %}
    </title>
    
    {% include "web/includes/head.html" %}
    <!-- Google Tag Manager -->

    <!-- End Google Tag Manager -->


    {% block style %}

    {% endblock %}

    {% block head %}

    {% endblock %}
  {% include "web/includes/style.html" %}
</head>


<body class="sidebar-collapse {{body_class}}">
    <!-- Extra details for Live View on GitHub Pages -->
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKDMSK6" height="0" width="0"
            style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    {% include "web/includes/navbar.html" %}

    {% block content %}

    {% endblock %}





    {% include "web/includes/footer.html" %}



    {% block modal %}

    {% endblock %}
    {% include "web/includes/image-modal.html" %}
    <!--   Core JS Files   -->
    <script src="{% static 'vendor/js/jquery.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'vendor/js/popper.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'web/js/bootstrap-material-design.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'web/js/moment.min.js' %}"></script>


    <!--	Plugin for the Datepicker, full documentation here: https://github.com/Eonasdan/bootstrap-datetimepicker -->
    <script src="{% static 'web/js/bootstrap-datetimepicker.js' %}" type="text/javascript"></script>
    <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
    <script src="{% static 'web/js/nouislider.min.js' %}" type="text/javascript"></script>
    <!--  Google Maps Plugin    -->
    <!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2Yno10-YTnLjjn_Vtk0V8cdcY5lC4plU"></script> -->
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!--	Plugin for Sharrre btn -->
    <script src="{% static 'web/js/jquery.sharrre.js' %}" type="text/javascript"></script>
    <!--	Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
    <script src="{% static 'web/js/bootstrap-tagsinput.js' %}"></script>
    <!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
    <script src="{% static 'web/js/bootstrap-selectpicker.js' %}" type="text/javascript"></script>
    <!--	Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
    <script src="{% static 'web/js/jasny-bootstrap.min.js' %}" type="text/javascript"></script>
    <!--	Plugin for Small Gallery in Product Page -->
    <script src="{% static 'web/js/jquery.flexisel.js' %}" type="text/javascript"></script>
    <!-- Plugins for presentation and navigation  -->
    <script src="{% static 'web/js/modernizr.js' %}" type="text/javascript"></script>
    <script src="{% static 'web/js/vertical-nav.js' %}" type="text/javascript"></script>
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Js With initialisations For Demo Purpose, Don't Include it in Your Project -->
    <!-- <script src="{% static 'web/demo.js' %}" type="text/javascript"></script> -->
    <!-- Control Center for Material Kit: parallax effects, scripts for the example pages etc -->
    <script src="{% static 'web/js/material-kit.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'utility/js/utility.js' %}"></script>
    <!--  Plugin for Sweet Alert -->
    <!-- <script src="{% static 'vendor/js/sweetalert2.js' %}"></script> -->

    <!-- <script>
        $(document).ready(function () {
            //init DateTimePickers
            materialKit.initFormExtendedDatetimepickers();

            // Sliders Init
            materialKit.initSliders();
        });
    </script> -->



    {% if profile.name %}

    <script>
        let profile_id = parseInt("{{profile.id}}")
    </script>
    {% else %}
    <script>
        let profile_id = 0
    </script>
    {% endif %}
    <script>
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    // Does this cookie string begin with the name we want?
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
        var csrfmiddlewaretoken = ''
        var current_date = '{{current_date}}'
        $(document).ready(function () {
            //   md.checkFullPageBackgroundImage();


            $("#sidebar_active_color_{{sidebar.sidebar_active_color}}").addClass("active")
            $("#sidebar_bg_color_{{sidebar.sidebar_bg_color}}").addClass("active")
            // Javascript method's body can be found in assets/js/demos.js
            // csrfmiddgetCookie('csrftoken');lewaretoken = $("input[name='csrfmiddlewaretoken']").val()
            csrfmiddlewaretoken = getCookie('csrftoken');
            // csrfmiddlewaretoken = document.querySelector('[name=csrfmiddlewaretoken]').value;
            // $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();
        });
    </script>
    {% block script %}

    {% endblock %}

</body>

</html>