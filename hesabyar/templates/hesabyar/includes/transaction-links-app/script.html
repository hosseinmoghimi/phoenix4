<script>
    let url_add_transaction_link="{% url 'hesabyar:add_transaction_link' %}"
    let links=JSON.parse(`{{links_s|escapejs}}`)
    let transaction_links_app = new Vue({
        el: "#transaction-links-app",
        data: {
            new_link_title: "",
            new_link_url: "",
            links: links,
            show_add_link:false,
        },
        methods: {
            add_transaction_link: function () {
                let url = url_add_transaction_link
                let payload = {
                    csrfmiddlewaretoken: csrfmiddlewaretoken,
                    transaction_id: transaction_id,
                    title: this.new_link_title,
                    url: this.new_link_url,
                }
                let posting = $.post(url, payload)
                posting.done((data) => {
                    if (data.result === 'SUCCEED') {

                        transaction_links_app.links.push(data.transaction_link)
                        transaction_links_app.new_link_title = ""
                        transaction_links_app.new_link_url = ""
                    }
                })
            },
        }
    })
</script>