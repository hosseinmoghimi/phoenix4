<script>
    let passengers=JSON.parse(`{{passengers_s|escapejs}}`)
    let all_passengers=JSON.parse(`{{all_passengers_s|escapejs}}`)
    let passengers_app=new Vue({
        el:"#passengers-app",
        data:{
            passengers:passengers,
            all_passengers:all_passengers,
            passenger_id:0,
        },
        methods:{
            add_passenger_to_trip:function(){
                let url_add_passenger_to_trip = "{% url 'vehicles:add_passenger_to_trip' %}"
                let payload = {
                    trip_id: trip_id,
                    passenger_id: this.passenger_id,
                    csrfmiddlewaretoken: csrfmiddlewaretoken,

                }
                console.log(payload)
                let posting = $.post(url_add_passenger_to_trip, payload)
                posting.done((data) => {
                    console.log(data)
                    if (data.result === "SUCCEED") {
                        passengers_app.passengers.push(data.passenger)
                    }

                })
            },
        }
    })
</script>