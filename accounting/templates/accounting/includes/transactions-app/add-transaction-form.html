{% load static %}
<div class="card" id="add-transaction-app">
    <div class="card-header">
        <h4 class="title">
            افزودن تراکنش جدید
        </h4>
    </div>
    <div class="card-body">

        <form @submit.prevent="add_transaction">

            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="">
                            پرداخت از

                        </label>
                        <select v-model="pay_from_id" class="form-control" id="">
                            <option v-for="financial_account in financial_accounts" :value="financial_account.id"
                                v-text="financial_account.profile.name">

                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="">
                            به

                        </label>
                        <select v-model="pay_to_id" class="form-control" id="">
                            <option v-for="financial_account in financial_accounts" :value="financial_account.id"
                                v-text="financial_account.profile.name">

                            </option>
                        </select>
                    </div>



                </div>
                <div class="col-md-8">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="">
                                    عنوان تراکنش
                                </label>
                                <input type="text" class="form-control" placeholder="عنوان تراکنش جدید"
                                    v-model="new_transaction_title" id="">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="">
                                    مبلغ تراکنش
                                </label>
                                <input type="number" class="form-control" placeholder="مبلغ تراکنش جدید"
                                    v-model="new_transaction_amount" id="">
                            </div>
                        </div>


                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="">
                                    نحوه پرداخت
                                </label>

                                <select v-model="payment_method" class="form-control" id="">
                                    {% for payment_method1 in payment_methods %}

                                    <option value="{{payment_method1}}">
                                        {{payment_method1}}
                                    </option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="">
                                    توضیحات
                                </label>
                                <input type="text" class="form-control" placeholder="توضیحات تراکنش جدید"
                                    v-model="new_transaction_description" id="">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <img v-if="waiting" width="32" src="{% static 'leo/img/loading.gif' %}" alt="">

                        </div>
                        <div class="col-md-6">
                            <button v-if="!waiting && !done" class="btn btn-success " type="submit">تایید</button>
                        </div>
                    </div>

                </div>

            </div>
        </form>

        <div v-if="done">
            <div class="alert alert-success">
                <p>
                    با موفقیت ثبت گردید.
                </p>
            </div>
        </div>
    </div>
    <div class="card-footer"></div>

</div>